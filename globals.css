/* =========================================================================
   VIBESTREAM 2026+ ULTIMATE CSS RESET & MODERN DESIGN MANIFEST
   OKLCH CORE | ZERO-SCROLLBAR ARCHITECTURE | MOBILE-FIRST
   ========================================================================= */

/* 1. THE 2026 GLOBAL RESET */
@layer reset {
  *, *::before, *::after {
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
  }

  * {
    margin: 0;
    padding: 0;
    font: inherit;
    scrollbar-width: none; /* Universal Firefox Hide */
    -ms-overflow-style: none; /* Universal IE/Edge Hide */
  }

  /* Universal Webkit Scrollbar Eraser */
  *::-webkit-scrollbar {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
  }

  html {
    /* 2026 Pro Baseline */
    font-size: 16px;
    height: 100dvh;
    width: 100vw;
    color-scheme: light dark;
    overflow: hidden; /* Enforce App-Shell Protocol */
    overscroll-behavior: none;
    cursor: default;
    background-color: var(--bg-main);
  }

  body {
    height: 100%;
    width: 100%;
    line-height: 1.6;
    text-rendering: optimizeLegibility;
    -webkit-text-size-adjust: none;
    background-color: var(--bg-main);
    color: var(--text-main);
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }

  #root {
    height: 100%;
    display: flex;
    flex-direction: column;
    isolation: isolate;
  }

  img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
    user-select: none;
    -webkit-user-drag: none;
  }

  button {
    background: none;
    border: none;
    cursor: pointer;
    color: inherit;
    touch-action: manipulation;
  }

  p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
    text-wrap: pretty; /* Eliminate widows/orphans */
  }

  input, textarea, select {
    background: none;
    border: none;
    outline: none;
  }
}

/* 2. SYSTEM CONSTANTS (OKLCH 2026 SPACE) */
:root {
  /* Surface Layers */
  --bg-main: oklch(0.99 0.005 240);
  --text-main: oklch(0.25 0.02 240);
  --text-muted: oklch(0.55 0.02 240);
  
  --accent: oklch(0.55 0.22 260);
  --accent-soft: oklch(0.55 0.22 260 / 0.08);
  --rose-vibrant: oklch(0.6 0.25 20);
  --emerald-vibrant: oklch(0.7 0.2 150);
  
  --glass-surface: oklch(1 0 0 / 0.85);
  --glass-border: oklch(0 0 0 / 0.05);
  
  /* Layout Primitives */
  --sat: env(safe-area-inset-top);
  --sar: env(safe-area-inset-right);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
  
  --header-h: calc(4.5rem + var(--sat));
  --bottom-nav-h: calc(4rem + var(--sab));
  
  /* Precision Shadows */
  --shadow-flat: 0 1px 3px oklch(0 0 0 / 0.05);
  --shadow-float: 0 10px 30px -10px oklch(0 0 0 / 0.08);
  --shadow-heavy: 0 40px 80px -20px oklch(0 0 0 / 0.12);
}

/* 3. MODERN UTILITIES */
.scroll-viewport {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  scrollbar-gutter: stable;
}

.glass-layer {
  background: var(--glass-surface);
  backdrop-filter: blur(24px) saturate(190%);
  -webkit-backdrop-filter: blur(24px) saturate(190%);
  border: 1px solid var(--glass-border);
}

.border-sharp {
  border: 1px solid var(--glass-border);
}

/* 2026 Micro-Interactions */
.tap-feedback:active {
  transform: scale(0.97);
  opacity: 0.8;
  transition: transform 0.15s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.hover-glow:hover {
  box-shadow: 0 0 20px oklch(0.55 0.22 260 / 0.15);
}

/* 4. ANIMATION MANIFEST */
@keyframes fluid-fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-entrance {
  animation: fluid-fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* 5. RESPONSIVE CALIBRATION */
@media (max-width: 480px) {
  :root {
    --header-h: calc(4rem + var(--sat));
  }
  html { font-size: 15px; }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}