
/* =========================================================================
   VIBESTREAM 2026+ ULTIMATE CSS RESET & MODERN DESIGN MANIFEST
   OKLCH CORE | ZERO-SCROLLBAR ARCHITECTURE | MOBILE-FIRST
   ========================================================================= */

/* 1. THE 2026 GLOBAL RESET */
@layer reset {
  *, *::before, *::after {
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
  }

  * {
    margin: 0;
    padding: 0;
    font: inherit;
    /* Universal Scrollbar Eraser - Overridden by .custom-scrollbar where needed */
    scrollbar-width: none; 
    -ms-overflow-style: none;
  }

  *::-webkit-scrollbar {
    display: none;
    width: 0;
    height: 0;
    background: transparent;
  }

  html {
    font-size: 16px;
    height: 100dvh;
    width: 100vw;
    color-scheme: light dark;
    overflow: hidden !important; 
    overscroll-behavior: none !important;
    cursor: default;
    background-color: var(--bg-main);
    position: fixed; 
    top: 0;
    left: 0;
  }

  body {
    height: 100%;
    width: 100%;
    line-height: 1.6;
    text-rendering: optimizeLegibility;
    -webkit-text-size-adjust: none;
    background-color: var(--bg-main);
    color: var(--text-main);
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    overflow: hidden !important;
  }

  #root {
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
    isolation: isolate;
    overflow: hidden !important;
  }

  img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
    user-select: none;
    -webkit-user-drag: none;
  }

  button {
    background: none;
    border: none;
    cursor: pointer;
    color: inherit;
    touch-action: manipulation;
  }

  p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
    text-wrap: pretty;
  }

  input, textarea, select {
    background: none;
    border: none;
    outline: none;
  }
}

/* 2. SYSTEM CONSTANTS (OKLCH 2026 SPACE) */
:root {
  /* Surface Layers */
  --bg-main: oklch(0.99 0.005 240);
  --text-main: oklch(0.25 0.02 240);
  --text-muted: oklch(0.55 0.02 240);
  
  --accent: oklch(0.55 0.22 260);
  --accent-soft: oklch(0.55 0.22 260 / 0.08);
  --rose-vibrant: oklch(0.6 0.25 20);
  --emerald-vibrant: oklch(0.7 0.2 150);
  
  --glass-surface: oklch(1 0 0 / 0.85);
  --glass-border: oklch(0 0 0 / 0.05);
  
  /* Layout Primitives */
  --sat: env(safe-area-inset-top);
  --sar: env(safe-area-inset-right);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
  
  --header-h: calc(4.5rem + var(--sat));
  --bottom-nav-h: calc(4rem + var(--sab));
  
  /* Precision Shadows */
  --shadow-flat: 0 1px 3px oklch(0 0 0 / 0.05);
  --shadow-float: 0 10px 30px -10px oklch(0 0 0 / 0.08);
  --shadow-heavy: 0 40px 80px -20px oklch(0 0 0 / 0.12);
}

/* 2a. DARK MODE OVERRIDES */
html.dark {
  --bg-main: #020617; /* Slate 950 */
  --text-main: #f8fafc; /* Slate 50 */
  --text-muted: #94a3b8; /* Slate 400 */
  --glass-surface: rgba(15, 23, 42, 0.85);
  --glass-border: rgba(255, 255, 255, 0.1);
  color-scheme: dark;
}

/* =========================================================================
   UTILITIES
   ========================================================================= */

/* BORDER PRECISION UTILITY */
.border-precision {
  border-width: 1px;
  border-color: #e2e8f0;
}
html.dark .border-precision {
  border-color: #1e293b;
}

/* 2b. HIGH CONTRAST OVERRIDES */
html.high-contrast {
  filter: contrast(1.2);
}
html.high-contrast .text-slate-400 { color: #475569 !important; }
html.high-contrast .border-slate-100 { border-color: #94a3b8 !important; }

/* 2c. REDUCED MOTION OVERRIDES */
html.reduced-motion *, 
html.reduced-motion *::before, 
html.reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* 3. MODERN UTILITIES */
.scroll-viewport {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  -webkit-overflow-scrolling: touch !important;
  scrollbar-width: none;
  overscroll-behavior-y: contain !important;
  display: flex;
  flex-direction: column;
}

.scroll-viewport::-webkit-scrollbar {
  display: none;
}

/* Specific Override for Visible Scrollbars */
.custom-scrollbar {
  scrollbar-width: thin !important;
  scrollbar-color: oklch(0.85 0.01 240) transparent !important;
}

.custom-scrollbar::-webkit-scrollbar {
  display: block !important;
  width: 4px !important;
  height: 4px !important;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent !important;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: oklch(0.85 0.01 240) !important;
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: oklch(0.75 0.02 240) !important;
}

.glass-layer {
  background: var(--glass-surface);
  backdrop-filter: blur(24px) saturate(190%);
  -webkit-backdrop-filter: blur(24px) saturate(190%);
  border: 1px solid var(--glass-border);
}

.border-sharp {
  border: 1px solid var(--glass-border);
}

.tap-feedback:active {
  transform: scale(0.97);
  opacity: 0.8;
  transition: transform 0.15s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.hover-glow:hover {
  box-shadow: 0 0 20px oklch(0.55 0.22 260 / 0.15);
}

/* 4. ANIMATION MANIFEST */
@keyframes fluid-fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-entrance {
  animation: fluid-fade-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Extra Animations for Handshakes */
@keyframes ring-pulse-2026 {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.4); }
  70% { transform: scale(1.1); box-shadow: 0 0 40px 20px rgba(79, 70, 229, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(79, 70, 229, 0); }
}

.animate-neural-pulse {
  animation: ring-pulse-2026 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* 5. RESPONSIVE CALIBRATION */
@media (max-width: 480px) {
  :root {
    --header-h: calc(4rem + var(--sat));
  }
  html { font-size: 15px; }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
